apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  annotations:
    kubernetes.io/description: Configure Prometheus to monitor kasten metrics.
  name: k10-monitoring
  namespace: kasten-io
spec:
  selector:
    matchExpressions:
      - key: app
        operator: In
        values:
          - k10
      - key: component
        operator: In
        values:
          - executor
          - logging
          - state
          - metering
          - catalog
          - auth
          - jobs
          - kanister
          - crypto
  endpoints:
  - port: http
    path: /metrics
  namespaceSelector:
    matchNames:
      - kasten-io

